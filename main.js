(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n=function(){function n(t,r,o){var i=this,u=t.name,a=t.link,c=t.likes,s=t._id,l=t.owner,f=o.handleCardClick,p=o.handleDeleteClick,h=o.likeCardBtnClick,_=o.clickDislike;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e(this,"_getTemplateElement",(function(){return document.querySelector(i._templateSelector).content.querySelector(".photos__card").cloneNode(!0)})),e(this,"deleteCard",(function(){i._card.remove(),i._card=null})),e(this,"_likeCard",(function(){i._isLiked?i._clickDislike(i):i._likeCardBtnClick(i)})),e(this,"_toggleLike",(function(){i._photosLikeButton.classList.toggle("photos__like-button_liked"),i._isLiked=!i._isLiked})),this._name=u,this._link=a,this._likes=c,this.id=s,this.owner=l,this._templateSelector=r,this._handleCardClick=f,this._handleDeleteClick=p,this._likeCardBtnClick=h,this._clickDislike=_}var r,o;return r=n,(o=[{key:"setCardLikes",value:function(t){this._likes=t.likes,this._photosLikeCounter.textContent=this._likes.length,this._toggleLike()}},{key:"_returnLikes",value:function(t){this._likes.find((function(e){return e._id===t}))&&this._toggleLike()}},{key:"makeCard",value:function(t){return this.userId=t,this._card=this._getTemplateElement(),this._photosImage=this._card.querySelector(".photos__image"),this._photostTitle=this._card.querySelector(".photos__title"),this._photosDeleteButton=this._card.querySelector(".photos__delete-button"),this._photosLikeButton=this._card.querySelector(".photos__like-button"),this._photosLikeCounter=this._card.querySelector(".photos__like-counter"),this._isHost(t)||this._photosDeleteButton.remove(),this._photosImage.src=this._link,this._photosImage.alt=this._name,this._photostTitle.textContent=this._name,this._photosLikeCounter.textContent=this._likes.length,this._setEventListeners(),this._returnLikes(t),this._card}},{key:"_isHost",value:function(){return this.owner._id===this.userId}},{key:"_setEventListeners",value:function(){var t=this;this._handleCardClick(this._photosImage,this._name,this._link),this._photosDeleteButton.addEventListener("click",(function(){return t._handleDeleteClick(t)})),this._photosLikeButton.addEventListener("click",(function(){t._likeCardBtnClick(t)}))}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=n,this._submitButtonSelector=e.submitButtonSelector,this._inputSelector=e.inputSelector,this._inputErrorSelector=e.inputErrorSelector,this._inactiveSaveButtonClass=e.inactiveSaveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formInputs=this._form.querySelectorAll(this._inputSelector)}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t){var e=this._form.querySelector("[data-input=".concat(t.dataset.input,"-error]"));e.textContent=t.validationMessage,t.classList.add(this._inputErrorClass),e.classList.add(this._errorClass)}},{key:"enableValidation",value:function(){this._setEventListeners(),this._toggleSubmitButtonState()}},{key:"_setEventListeners",value:function(){var t=this;this._submitButton=this._form.querySelector(this._submitButtonSelector),this._form.addEventListener("input",(function(e){t._hasFormInput(e.target),t._toggleSubmitButtonState()}))}},{key:"_hasFormInput",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hideInputError",value:function(t){this._form.querySelector("[data-input=".concat(t.dataset.input,"-error]")).classList.remove(this._errorClass),t.classList.remove(this._inputErrorClass)}},{key:"_toggleSubmitButtonState",value:function(){this._submitButton.disabled=!this._form.checkValidity(),this._submitButton.classList.toggle(this._inactiveSaveButtonClass,!this._form.checkValidity())}},{key:"clearFormInputError",value:function(){var t=this;this._formInputs.forEach((function(e){t._hideInputError(e)})),this._toggleSubmitButtonState()}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._container=document.querySelector(n),this._renderer=r}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.append(t)}},{key:"addCardToTheBeginning",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){return e._renderer(t)}))}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){var n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(t){"Escape"===t.key&&o.close()},(n="_closeOnClickEsc")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(e),this._popupCloseIcons=this._popup.querySelector(".popup__close-icon")}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._closeOnClickEsc)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._closeOnClickEsc)}},{key:"_closeOnClickOverlay",value:function(t){(t.target.classList.contains("popup")||t.target.classList.contains("popup__close-icon"))&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("click",(function(e){return t._closeOnClickOverlay(e)}))}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=p(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},f.apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function _(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupPhotosCaption=e._popup.querySelector(".popup-photos__caption"),e._popupPhotosBigSizeImage=e._popup.querySelector(".popup-photos__bigsize-image"),e}return e=u,(n=[{key:"open",value:function(t,e){f(d(u.prototype),"open",this).call(this),this._popupPhotosBigSizeImage.src=e,this._popupPhotosBigSizeImage.alt=t,this._popupPhotosCaption.textContent=t}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(c);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=k(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},v.apply(this,arguments)}function k(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function S(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(r);if(o){var n=O(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return S(this,t)});function u(t,e){var n,r=t.submitForm;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._submitForm=r,n._formInputs=n._popup.querySelectorAll(".form__input"),n._form=n._popup.querySelector(".form"),n._popupSubmitButton=n._popup.querySelector(".form__save-button"),n._handleSubmitFormListener=n._handleSubmitForm.bind(w(n)),n}return e=u,(n=[{key:"close",value:function(){v(O(u.prototype),"close",this).call(this),this._form.reset()}},{key:"_getInputValues",value:function(){var t=this;return this._formValue={},this._formInputs.forEach((function(e){t._formValue[e.name]=e.value})),this._formValue}},{key:"_handleSubmitForm",value:function(t){t.preventDefault(),this._submitForm(this._getInputValues())}},{key:"setEventListeners",value:function(){var t=this;v(O(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){t._handleSubmitFormListener(e)}))}},{key:"sendTextSubmitOnButton",value:function(t){this._popupSubmitButton.textContent=t}}])&&m(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(c);function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(e){var n=e.userNameSelector,r=e.userAboutSelector,o=e.avatarSelector,i=e.userId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.userId=i,this._userNameContainer=document.querySelector(n),this._userAboutContainer=document.querySelector(r),this._avatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._userNameContainer.textContent,about:this._userAboutContainer.textContent,avatar:this._avatar.src,_id:this.userId}}},{key:"setUserInfo",value:function(t){this._userNameContainer.textContent=t.name,this._userAboutContainer.textContent=t.about,this._avatar.src=t.avatar,this._avatar.alt=this._userNameContainer.textContent,this.userId=t._id}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var L=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._token=e.headers.authorization}var e,n;return e=t,(n=[{key:"_checkAnswer",value:function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status))}},{key:"getDataUser",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:{authorization:this._token}}).then(this._checkAnswer)}},{key:"getInitialCardsData",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:{authorization:this._token}}).then(this._checkAnswer)}},{key:"setDataUser",value:function(t){var e=t.newUserName,n=t.newUserAbout;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e,about:n})}).then(this._checkAnswer)}},{key:"addCard",value:function(t){var e=t.cardName,n=t.cardLink;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e,link:n})}).then(this._checkAnswer)}},{key:"updateUserAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:t})}).then(this._checkAnswer)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this._token}}).then(this._checkAnswer)}},{key:"likeCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:{authorization:this._token}}).then(this._checkAnswer)}},{key:"dislikeCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:{authorization:this._token}}).then(this._checkAnswer)}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=q(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},T.apply(this,arguments)}function q(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function U(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return A(t)}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(r);if(o){var n=x(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return U(this,t)});function u(t,e){var n,r=t.receivedFunction;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._receivedFunction=r,n._form=n._popup.querySelector(".form"),n._popupSubmitButton=n._popup.querySelector(".form__save-button"),n._handleSubmitFormListener=n._handleSubmitForm.bind(A(n)),n}return e=u,(n=[{key:"_handleSubmitForm",value:function(t){t.preventDefault(),this._receivedFunction(this._card)}},{key:"setEventListeners",value:function(){var t=this;T(x(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){t._handleSubmitFormListener(e)}))}},{key:"open",value:function(t){T(x(u.prototype),"open",this).call(this),this._card=t}}])&&I(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(c),F={formSelector:".edit-form",inputSelector:".form__input",inputErrorSelector:".form__input-error",inactiveSaveButtonClass:"form__save-button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active",submitButtonSelector:".form__save-button"},z=document.querySelector(".edit-form"),N=document.querySelector(".profile__edit-button"),V=z.querySelector(".form__input_type_text"),H=z.querySelector(".form__input_type_about"),J=document.querySelector(".add-form"),G=document.querySelector(".profile__add-button"),M="#template-photos",$=document.querySelector(".profile__avatar-edit-button"),K=document.querySelector(".form-confirm",".update-avatar-form");function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){X(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Z=new L({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-43",headers:{authorization:"4a54ce76-e7c6-4200-bbf8-f4a56f498098","Content-Type":"application/json"}});Promise.all([Z.getDataUser(),Z.getInitialCardsData()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];it.setUserInfo(o),ft.renderItems(i)})).catch((function(){}));var tt=new o(F,z);tt.enableValidation();var et=new o(F,J);et.enableValidation();var nt=new o(F,K);nt.enableValidation();var rt=new R({receivedFunction:function(t){Z.deleteCard(t.id).then((function(){return t.deleteCard()})).then((function(){return rt.close()})).catch((function(t){return console.log(t)}))}},".popup-confirm"),ot=function(t,e){return new n(W({},t),e,{handleCardClick:at,handleDeleteClick:lt,likeCardBtnClick:ct,clickDislike:st}).makeCard(it.userId)},it=new j({userNameSelector:".profile__name",userAboutSelector:".profile__researcher",avatarSelector:".profile__avatar"}),ut=new y(".popup-photos"),at=function(t,e,n){t.addEventListener("click",(function(){ut.open(e,n)}))};function ct(t){Z.likeCard(t.id).then((function(e){t.setCardLikes(e)})).catch((function(t){console.log(t)}))}function st(t){Z.dislikeCard(t.id).then((function(e){t.setCardLikes(e)})).catch((function(t){console.log(t)}))}var lt=function(t){rt.open(t)},ft=new u({renderer:function(t){var e=ot(t,M);ft.addItem(e)}},".photos__list");N.addEventListener("click",(function(){var t,e,n;e=(t=it.getUserInfo()).name,n=t.about,V.value=e,H.value=n,tt.clearFormInputError(),pt.open()}));var pt=new C({submitForm:function(t){pt.sendTextSubmitOnButton("Сохранение..."),Z.setDataUser({newUserName:t.form__input_type_text,newUserAbout:t.form__input_type_about}).then((function(t){it.setUserInfo(W({},t))})).then((function(){return pt.close()})).finally((function(){return pt.sendTextSubmitOnButton("Сохранить")})).catch((function(t){return console.log(t)}))}},".popup-edit"),ht=new C({submitForm:function(t){ht.sendTextSubmitOnButton("Сохранение..."),Z.addCard({cardName:t.form__input_type_title,cardLink:t.form__input_type_link}).then((function(t){console.log(t),ft.addCardToTheBeginning(ot(W({},t),M))})).then((function(){return ht.close()})).finally((function(){return ht.sendTextSubmitOnButton("Создать")})).catch((function(t){return console.log(t)}))}},".popup-add");G.addEventListener("click",(function(){et.clearFormInputError(),ht.open()}));var _t=new C({submitForm:function(t){_t.sendTextSubmitOnButton("Сохранение..."),Z.updateUserAvatar(t.form__input_update_avatar).then((function(){it.setUserInfo({avatar:t.form__input_update_avatar}),_t.close()})).finally((function(){return _t.sendTextSubmitOnButton("Создать")})).catch((function(t){return console.log(t)}))}},".popup_update_user-avatar");$.addEventListener("click",(function(){nt.clearFormInputError(),_t.open()})),rt.setEventListeners(),_t.setEventListeners(),pt.setEventListeners(),ht.setEventListeners(),ut.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXVCLGdCQUMvQ3pCLE9BQU0sU0FBQ08sR0FBRCxPQUFTQyxRQUFRQyxJQUFJRixRRDNKQyxlQ2dOM0J1QixHQUFXLElBQUl0RyxFQUNuQixDQUNFQyxXQXBEZSxTQUFDdUYsR0FDbEJjLEdBQVNMLHVCQUF1QixpQkFDaENuQyxFQUNHeUMsUUFBUSxDQUNQekQsU0FBVTBDLEVBQU8sdUJBQ2pCekMsU0FBVXlDLEVBQU8sd0JBRWxCakQsTUFBSyxTQUFDaUQsR0FDTFIsUUFBUUMsSUFBSU8sR0FDWmxCLEdBQVVrQyxzQkFDUnRCLEdBQVMsRUFBRCxHQUVETSxHQUVMN0IsT0FJTHBCLE1BQUssa0JBQU0rRCxHQUFTaEgsV0FDcEIrRyxTQUFRLGtCQUFNQyxHQUFTTCx1QkFBdUIsY0FDOUN6QixPQUFNLFNBQUNPLEdBQUQsT0FBU0MsUUFBUUMsSUFBSUYsUUR0S0EsY0MyTWhDckIsRUFBaUJ0SCxpQkFBaUIsU0FBUyxXQUN6Q3VJLEdBQXVCbUIsc0JBQ3ZCUSxHQUFTaEIsVUFHWCxJQUFNbUIsR0FBYyxJQUFJekcsRUFDdEIsQ0FDRUMsV0F6Q2lCLFNBQUN5RyxHQUNwQkQsR0FBWVIsdUJBQXVCLGlCQUNuQ25DLEVBQ0c2QyxpQkFBaUJELEVBQVMsMkJBQzFCbkUsTUFBSyxXQUNKNkIsR0FBU0MsWUFBWSxDQUNuQi9DLE9BQVFvRixFQUFTLDRCQUVuQkQsR0FBWW5ILFdBRWIrRyxTQUFRLGtCQUFNSSxHQUFZUix1QkFBdUIsY0FDakR6QixPQUFNLFNBQUNPLEdBQUQsT0FBU0MsUUFBUUMsSUFBSUYsUUR2S1MsNkJDME16Q25CLEVBQXdCeEgsaUJBQWlCLFNBQVMsV0FDaER3SSxHQUEyQmtCLHNCQUMzQlcsR0FBWW5CLFVBR2RULEdBQWtCK0Isb0JBQ2xCSCxHQUFZRyxvQkFDWmIsR0FBVWEsb0JBQ1ZOLEdBQVNNLG9CQUNUeEIsR0FBY3dCLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgbmFtZSwgbGluaywgbGlrZXMsIF9pZCwgb3duZXIgfSxcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yLFxuICAgIHsgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgbGlrZUNhcmRCdG5DbGljaywgY2xpY2tEaXNsaWtlIH1cbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcbiAgICB0aGlzLmlkID0gX2lkO1xuICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLl9saWtlQ2FyZEJ0bkNsaWNrID0gbGlrZUNhcmRCdG5DbGljaztcbiAgICB0aGlzLl9jbGlja0Rpc2xpa2UgPSBjbGlja0Rpc2xpa2U7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGVFbGVtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5waG90b3NfX2NhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcbiAgfTtcblxuICBkZWxldGVDYXJkID0gKCkgPT4ge1xuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZCA9IG51bGw7XG4gIH07XG5cbiAgX2xpa2VDYXJkID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XG4gICAgICB0aGlzLl9jbGlja0Rpc2xpa2UodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpa2VDYXJkQnRuQ2xpY2sodGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIHNldENhcmRMaWtlcyhjYXJkKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBjYXJkLmxpa2VzO1xuICAgIHRoaXMuX3Bob3Rvc0xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5fdG9nZ2xlTGlrZSgpO1xuICB9XG5cbiAgX3RvZ2dsZUxpa2UgPSAoKSA9PiB7XG4gICAgdGhpcy5fcGhvdG9zTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwicGhvdG9zX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcbiAgICB0aGlzLl9pc0xpa2VkID0gIXRoaXMuX2lzTGlrZWQ7XG4gIH07XG5cbiAgX3JldHVybkxpa2VzKHVzZXJJZCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuX2xpa2VzLmZpbmQoKGNhcmQpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhcmQuX2lkID09PSB1c2VySWQ7XG4gICAgICB9KVxuICAgICkge1xuICAgICAgdGhpcy5fdG9nZ2xlTGlrZSgpO1xuICAgIH1cbiAgfVxuXG4gIG1ha2VDYXJkKHVzZXJJZCkge1xuICAgIHRoaXMudXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcblxuICAgIHRoaXMuX3Bob3Rvc0ltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLnBob3Rvc19faW1hZ2VcIik7XG4gICAgdGhpcy5fcGhvdG9zdFRpdGxlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLnBob3Rvc19fdGl0bGVcIik7XG4gICAgdGhpcy5fcGhvdG9zRGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucGhvdG9zX19kZWxldGUtYnV0dG9uXCJcbiAgICApO1xuICAgIHRoaXMuX3Bob3Rvc0xpa2VCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9zX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9waG90b3NMaWtlQ291bnRlciA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5waG90b3NfX2xpa2UtY291bnRlclwiKTtcblxuICAgIGlmICghdGhpcy5faXNIb3N0KHVzZXJJZCkpIHtcbiAgICAgIHRoaXMuX3Bob3Rvc0RlbGV0ZUJ1dHRvbi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9waG90b3NJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX3Bob3Rvc0ltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fcGhvdG9zdFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9waG90b3NMaWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcmV0dXJuTGlrZXModXNlcklkKTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xuICB9XG5cbiAgX2lzSG9zdCgpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lci5faWQgPT09IHRoaXMudXNlcklkO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9waG90b3NJbWFnZSwgdGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XG4gICAgdGhpcy5fcGhvdG9zRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcylcbiAgICApO1xuICAgIHRoaXMuX3Bob3Rvc0xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2xpa2VDYXJkQnRuQ2xpY2sodGhpcyk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcih2YWxpZGF0ZVNlbGVjdG9yLCBmb3JtKSB7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSB2YWxpZGF0ZVNlbGVjdG9yLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSB2YWxpZGF0ZVNlbGVjdG9yLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRFcnJvclNlbGVjdG9yID0gdmFsaWRhdGVTZWxlY3Rvci5pbnB1dEVycm9yU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVTYXZlQnV0dG9uQ2xhc3MgPSB2YWxpZGF0ZVNlbGVjdG9yLmluYWN0aXZlU2F2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkYXRlU2VsZWN0b3IuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB2YWxpZGF0ZVNlbGVjdG9yLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUlucHV0cyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xuICAgIGNvbnN0IGVycm9yID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYFtkYXRhLWlucHV0PSR7aW5wdXQuZGF0YXNldC5pbnB1dH0tZXJyb3JdYFxuICAgICk7XG4gICAgZXJyb3IudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9oYXNGb3JtSW5wdXQoZXZlbnQudGFyZ2V0KTtcbiAgICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKCk7XG4gICAgfSk7XG4gIH1cblxuICBfaGFzRm9ybUlucHV0KGlucHV0KSB7XG4gICAgIWlucHV0LnZhbGlkaXR5LnZhbGlkXG4gICAgICA/IHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0KVxuICAgICAgOiB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIGBbZGF0YS1pbnB1dD0ke2lucHV0LmRhdGFzZXQuaW5wdXR9LWVycm9yXWBcbiAgICApO1xuICAgIGVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9ICF0aGlzLl9mb3JtLmNoZWNrVmFsaWRpdHkoKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgIHRoaXMuX2luYWN0aXZlU2F2ZUJ1dHRvbkNsYXNzLFxuICAgICAgIXRoaXMuX2Zvcm0uY2hlY2tWYWxpZGl0eSgpXG4gICAgKTtcbiAgfVxuXG4gIGNsZWFyRm9ybUlucHV0RXJyb3IoKSB7XG4gICAgdGhpcy5fZm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH0pO1xuICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBhZGRDYXJkVG9UaGVCZWdpbm5pbmcoZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cENsb3NlSWNvbnMgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1pY29uXCIpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9jbG9zZU9uQ2xpY2tFc2MpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VPbkNsaWNrRXNjKTtcbiAgfVxuICBfY2xvc2VPbkNsaWNrT3ZlcmxheShldnQpIHtcbiAgICBpZiAoXG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpIHx8XG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZS1pY29uXCIpXG4gICAgKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIF9jbG9zZU9uQ2xpY2tFc2MgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PlxuICAgICAgdGhpcy5fY2xvc2VPbkNsaWNrT3ZlcmxheShldnQpXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBQaG90b3NDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1waG90b3NfX2NhcHRpb25cIik7XG4gICAgdGhpcy5fcG9wdXBQaG90b3NCaWdTaXplSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXBob3Rvc19fYmlnc2l6ZS1pbWFnZVwiKVxuICB9XG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwUGhvdG9zQmlnU2l6ZUltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBQaG90b3NCaWdTaXplSW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9wb3B1cFBob3Rvc0NhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBzdWJtaXRGb3JtIH0sIHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcbiAgICB0aGlzLl9mb3JtSW5wdXRzID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xuICAgIHRoaXMuX3BvcHVwU3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zYXZlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtTGlzdGVuZXIgPSB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtLmJpbmQodGhpcyk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWUgPSB7fTtcbiAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlO1xuICB9XG5cbiAgX2hhbmRsZVN1Ym1pdEZvcm0oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX3N1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybUxpc3RlbmVyKGUpO1xuICAgIH0pO1xuICB9XG5cbiAgc2VuZFRleHRTdWJtaXRPbkJ1dHRvbih0ZXh0KSB7XG4gICAgdGhpcy5fcG9wdXBTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWVTZWxlY3RvciwgdXNlckFib3V0U2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yLCB1c2VySWQgfSkge1xuICAgIHRoaXMudXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX3VzZXJOYW1lQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyQWJvdXRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBYm91dFNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZUNvbnRhaW5lci50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl91c2VyQWJvdXRDb250YWluZXIudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhci5zcmMsXG4gICAgICBfaWQ6IHRoaXMudXNlcklkLFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fdXNlck5hbWVDb250YWluZXIudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fdXNlckFib3V0Q29udGFpbmVyLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XG4gICAgdGhpcy5fYXZhdGFyLmFsdCA9IHRoaXMuX3VzZXJOYW1lQ29udGFpbmVyLnRleHRDb250ZW50O1xuICAgIHRoaXMudXNlcklkID0gZGF0YS5faWQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuX3Rva2VuID0gb3B0aW9ucy5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gIH1cblxuICBfY2hlY2tBbnN3ZXIocmVzKSB7XG4gICAge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwICR7cmVzLnN0YXR1c31gKTtcbiAgICB9XG4gIH1cblxuICBnZXREYXRhVXNlcigpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxuICAgICAgfSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrQW5zd2VyKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkc0RhdGEoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcbiAgICAgIH0sXG4gICAgfSkudGhlbih0aGlzLl9jaGVja0Fuc3dlcik7XG4gIH1cblxuICBzZXREYXRhVXNlcih7IG5ld1VzZXJOYW1lLCBuZXdVc2VyQWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuZXdVc2VyTmFtZSxcbiAgICAgICAgYWJvdXQ6IG5ld1VzZXJBYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tBbnN3ZXIpO1xuICB9XG5cbiAgYWRkQ2FyZCh7IGNhcmROYW1lLCBjYXJkTGluayB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogY2FyZE5hbWUsXG4gICAgICAgIGxpbms6IGNhcmRMaW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja0Fuc3dlcik7XG4gIH1cblxuICB1cGRhdGVVc2VyQXZhdGFyKGF2YXRhclNyYykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJTcmMsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrQW5zd2VyKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoX2lkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7X2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICB9LFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tBbnN3ZXIpO1xuICB9XG5cbiAgbGlrZUNhcmQoX2lkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7X2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICB9LFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tBbnN3ZXIpO1xuICB9XG5cbiAgZGlzbGlrZUNhcmQoX2lkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7X2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXG4gICAgICB9LFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tBbnN3ZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHJlY2VpdmVkRnVuY3Rpb24gfSwgcG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3JlY2VpdmVkRnVuY3Rpb24gPSByZWNlaXZlZEZ1bmN0aW9uO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG4gICAgdGhpcy5fcG9wdXBTdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3NhdmUtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm1MaXN0ZW5lciA9IHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0uYmluZCh0aGlzKVxuICB9XG5cbiAgX2hhbmRsZVN1Ym1pdEZvcm0oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX3JlY2VpdmVkRnVuY3Rpb24odGhpcy5fY2FyZCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybUxpc3RlbmVyKGUpO1xuICAgIH0pO1xuICB9XG5cbiAgb3BlbihjYXJkKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgdmFsaWRhdGVTZWxlY3RvciA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5lZGl0LWZvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcbiAgaW5wdXRFcnJvclNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dC1lcnJvclwiLFxuICBpbmFjdGl2ZVNhdmVCdXR0b25DbGFzczogXCJmb3JtX19zYXZlLWJ1dHRvbl9pbmFjdGl2ZVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc2F2ZS1idXR0b25cIixcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZVNlbGVjdG9yID0gXCIucHJvZmlsZV9fbmFtZVwiO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVSZXNlYXJjaGVyU2VsZWN0b3IgPSBcIi5wcm9maWxlX19yZXNlYXJjaGVyXCI7XG5leHBvcnQgY29uc3QgcGhvdG9zTGlzdFNlbGVjdG9yID0gXCIucGhvdG9zX19saXN0XCI7XG5cbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRTZWxlY3RvciA9IFwiLnBvcHVwLWVkaXRcIjtcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LWZvcm1cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiXG4pO1xuZXhwb3J0IGNvbnN0IGZvcm1JbnB1dFR5cGVUZXh0ID0gcG9wdXBFZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFxuICBcIi5mb3JtX19pbnB1dF90eXBlX3RleHRcIlxuKTtcbmV4cG9ydCBjb25zdCBmb3JtSW5wdXRUeXBlQWJvdXQgPSBwb3B1cEVkaXRGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmZvcm1fX2lucHV0X3R5cGVfYWJvdXRcIlxuKTtcblxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkU2VsZWN0b3IgPSBcIi5wb3B1cC1hZGRcIjtcbmV4cG9ydCBjb25zdCBwb3B1cEFkZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhclNlbGVjdG9yID0gXCIucHJvZmlsZV9fYXZhdGFyXCI7XG5cbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGVTZWxlY3RvciA9IFwiI3RlbXBsYXRlLXBob3Rvc1wiO1xuZXhwb3J0IGNvbnN0IHBvcHVwUGhvdG9zU2VsZWN0b3IgPSBcIi5wb3B1cC1waG90b3NcIjtcblxuZXhwb3J0IGNvbnN0IHBvcHVwQ29uZmlybVNlbGVjdG9yID0gXCIucG9wdXAtY29uZmlybVwiO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZV9fYXZhdGFyLWVkaXQtYnV0dG9uXCJcbik7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVBdmF0YXJQb3B1cFNlbGVjdG9yID0gXCIucG9wdXBfdXBkYXRlX3VzZXItYXZhdGFyXCI7XG5cbmV4cG9ydCBjb25zdCBwb3B1cENvbmZpcm1Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIuZm9ybS1jb25maXJtXCIsXG4gIFwiLnVwZGF0ZS1hdmF0YXItZm9ybVwiXG4pO1xuIiwiaW1wb3J0IGNzcyBmcm9tIFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5cbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmRcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3JcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb25cIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZVwiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb25cIjtcblxuaW1wb3J0IHtcbiAgdmFsaWRhdGVTZWxlY3RvcixcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcixcbiAgcHJvZmlsZVJlc2VhcmNoZXJTZWxlY3RvcixcbiAgcGhvdG9zTGlzdFNlbGVjdG9yLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgZm9ybUlucHV0VHlwZVRleHQsXG4gIGZvcm1JbnB1dFR5cGVBYm91dCxcbiAgcG9wdXBBZGRGb3JtLFxuICBwb3B1cEVkaXRGb3JtLFxuICBwcm9maWxlQWRkQnV0dG9uLFxuICBjYXJkVGVtcGxhdGVTZWxlY3RvcixcbiAgcG9wdXBQaG90b3NTZWxlY3RvcixcbiAgcG9wdXBFZGl0U2VsZWN0b3IsXG4gIHBvcHVwQWRkU2VsZWN0b3IsXG4gIHByb2ZpbGVBdmF0YXJTZWxlY3RvcixcbiAgcG9wdXBDb25maXJtU2VsZWN0b3IsXG4gIHBvcHVwQ29uZmlybUZvcm0sXG4gIHByb2ZpbGVBdmF0YXJFZGl0QnV0dG9uLFxuICB1cGRhdGVBdmF0YXJQb3B1cFNlbGVjdG9yLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCI7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDNcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiNGE1NGNlNzYtZTdjNi00MjAwLWJiZjgtZjRhNTZmNDk4MDk4XCIsIC8v0LLRgdGC0LDQstC40YLRjCDRgtC+0LrQtdC9XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXREYXRhVXNlcigpLCBhcGkuZ2V0SW5pdGlhbENhcmRzRGF0YSgpXSlcbiAgLnRoZW4oKFt1c2VyUmVxdWVzdEluZm8sIHVzZXJSZXF1ZXN0Q2FyZHNdKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlclJlcXVlc3RJbmZvKTtcbiAgICBjYXJkc0xpc3QucmVuZGVySXRlbXModXNlclJlcXVlc3RDYXJkcyk7XG4gIH0pXG4gIC5jYXRjaCgoKSA9PiB7XG4gICAgKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH0pO1xuXG5jb25zdCBwb3B1cEVkaXRGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0ZVNlbGVjdG9yLFxuICBwb3B1cEVkaXRGb3JtXG4pO1xucG9wdXBFZGl0Rm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBwb3B1cEFkZEZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRlU2VsZWN0b3IsXG4gIHBvcHVwQWRkRm9ybVxuKTtcbnBvcHVwQWRkRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBwb3B1cENvbmZpcm1Gb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0ZVNlbGVjdG9yLFxuICBwb3B1cENvbmZpcm1Gb3JtXG4pO1xucG9wdXBDb25maXJtRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBwb3B1cENvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXG4gIHtcbiAgICByZWNlaXZlZEZ1bmN0aW9uOiBkZWxldGVDYXJkLFxuICB9LFxuICBwb3B1cENvbmZpcm1TZWxlY3RvclxuKTtcblxuY29uc3QgbWFrZUNhcmQgPSAoY2FyZCwgdGVtcGxhdGVTZWxlY3RvcikgPT4ge1xuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXG4gICAge1xuICAgICAgLi4uY2FyZCxcbiAgICB9LFxuICAgIHRlbXBsYXRlU2VsZWN0b3IsXG4gICAge1xuICAgICAgaGFuZGxlQ2FyZENsaWNrOiBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgICBoYW5kbGVEZWxldGVDbGljazogaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgICBsaWtlQ2FyZEJ0bkNsaWNrOiBsaWtlQ2FyZEJ0bkNsaWNrLFxuICAgICAgY2xpY2tEaXNsaWtlOiBjbGlja0Rpc2xpa2VDYXJkLFxuICAgIH1cbiAgKS5tYWtlQ2FyZCh1c2VySW5mby51c2VySWQpO1xuICByZXR1cm4gbmV3Q2FyZDtcbn07XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgdXNlck5hbWVTZWxlY3RvcjogcHJvZmlsZU5hbWVTZWxlY3RvcixcbiAgdXNlckFib3V0U2VsZWN0b3I6IHByb2ZpbGVSZXNlYXJjaGVyU2VsZWN0b3IsXG4gIGF2YXRhclNlbGVjdG9yOiBwcm9maWxlQXZhdGFyU2VsZWN0b3IsXG59KTtcblxuY29uc3QgY2FyZEZyb21Qb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFBob3Rvc1NlbGVjdG9yKTtcblxuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKGNhcmRQaG90b3NMaXN0LCBjYXJkTmFtZSwgY2FyZExpbmspID0+IHtcbiAgY2FyZFBob3Rvc0xpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjYXJkRnJvbVBvcHVwLm9wZW4oY2FyZE5hbWUsIGNhcmRMaW5rKTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBsaWtlQ2FyZEJ0bkNsaWNrKGNhcmQpIHtcbiAgYXBpXG4gICAgLmxpa2VDYXJkKGNhcmQuaWQpXG4gICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcbiAgICAgIGNhcmQuc2V0Q2FyZExpa2VzKG5ld0NhcmQpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNsaWNrRGlzbGlrZUNhcmQoY2FyZCkge1xuICBhcGlcbiAgICAuZGlzbGlrZUNhcmQoY2FyZC5pZClcbiAgICAudGhlbigobmV3Q2FyZCkgPT4ge1xuICAgICAgY2FyZC5zZXRDYXJkTGlrZXMobmV3Q2FyZCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cblxuY29uc3QgaGFuZGxlRGVsZXRlQ2xpY2sgPSAoY2FyZCkgPT4ge1xuICBwb3B1cENvbmZpcm1hdGlvbi5vcGVuKGNhcmQpO1xufTtcblxuY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gbWFrZUNhcmQoaXRlbSwgY2FyZFRlbXBsYXRlU2VsZWN0b3IpO1xuICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIHBob3Rvc0xpc3RTZWxlY3RvclxuKTtcblxuZnVuY3Rpb24gZGVsZXRlQ2FyZChjYXJkKSB7XG4gIGFwaVxuICAgIC5kZWxldGVDYXJkKGNhcmQuaWQpXG4gICAgLnRoZW4oKCkgPT4gY2FyZC5kZWxldGVDYXJkKCkpXG4gICAgLnRoZW4oKCkgPT4gcG9wdXBDb25maXJtYXRpb24uY2xvc2UoKSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG59XG5cbmNvbnN0IGluaXRpYWxpemVQcm9maWxlSW5mbyA9ICgpID0+IHtcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgZm9ybUlucHV0VHlwZVRleHQudmFsdWUgPSBuYW1lO1xuICBmb3JtSW5wdXRUeXBlQWJvdXQudmFsdWUgPSBhYm91dDtcbn07XG5cbmNvbnN0IGluZm9Gb3JtRXZlbnRIYW5kbGVyID0gKGZvcm1JbnB1dHMpID0+IHtcbiAgcG9wdXBFZGl0LnNlbmRUZXh0U3VibWl0T25CdXR0b24oXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKTtcbiAgYXBpXG4gICAgLnNldERhdGFVc2VyKHtcbiAgICAgIG5ld1VzZXJOYW1lOiBmb3JtSW5wdXRzLmZvcm1fX2lucHV0X3R5cGVfdGV4dCxcbiAgICAgIG5ld1VzZXJBYm91dDogZm9ybUlucHV0cy5mb3JtX19pbnB1dF90eXBlX2Fib3V0LFxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4gcG9wdXBFZGl0LmNsb3NlKCkpXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBFZGl0LnNlbmRUZXh0U3VibWl0T25CdXR0b24oXCLQodC+0YXRgNCw0L3QuNGC0YxcIikpXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xufTtcblxuY29uc3QgYWRkTmV3Q2FyZCA9IChuZXdDYXJkKSA9PiB7XG4gIHBvcHVwQWRkLnNlbmRUZXh0U3VibWl0T25CdXR0b24oXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKTtcbiAgYXBpXG4gICAgLmFkZENhcmQoe1xuICAgICAgY2FyZE5hbWU6IG5ld0NhcmRbYGZvcm1fX2lucHV0X3R5cGVfdGl0bGVgXSxcbiAgICAgIGNhcmRMaW5rOiBuZXdDYXJkW2Bmb3JtX19pbnB1dF90eXBlX2xpbmtgXSxcbiAgICB9KVxuICAgIC50aGVuKChuZXdDYXJkKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhuZXdDYXJkKTtcbiAgICAgIGNhcmRzTGlzdC5hZGRDYXJkVG9UaGVCZWdpbm5pbmcoXG4gICAgICAgIG1ha2VDYXJkKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLm5ld0NhcmQsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYXJkVGVtcGxhdGVTZWxlY3RvclxuICAgICAgICApXG4gICAgICApO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4gcG9wdXBBZGQuY2xvc2UoKSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEFkZC5zZW5kVGV4dFN1Ym1pdE9uQnV0dG9uKFwi0KHQvtC30LTQsNGC0YxcIikpXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xufTtcblxuY29uc3QgdXBkYXRlQXZhdGFyID0gKGZvcm1JbnB1dCkgPT4ge1xuICBwb3B1cEF2YXRhci5zZW5kVGV4dFN1Ym1pdE9uQnV0dG9uKFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XG4gIGFwaVxuICAgIC51cGRhdGVVc2VyQXZhdGFyKGZvcm1JbnB1dFtcImZvcm1fX2lucHV0X3VwZGF0ZV9hdmF0YXJcIl0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgICBhdmF0YXI6IGZvcm1JbnB1dFtcImZvcm1fX2lucHV0X3VwZGF0ZV9hdmF0YXJcIl0sXG4gICAgICB9KTtcbiAgICAgIHBvcHVwQXZhdGFyLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEF2YXRhci5zZW5kVGV4dFN1Ym1pdE9uQnV0dG9uKFwi0KHQvtC30LTQsNGC0YxcIikpXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xufTtcblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgaW5pdGlhbGl6ZVByb2ZpbGVJbmZvKCk7XG4gIHBvcHVwRWRpdEZvcm1WYWxpZGF0aW9uLmNsZWFyRm9ybUlucHV0RXJyb3IoKTtcbiAgcG9wdXBFZGl0Lm9wZW4oKTtcbn0pO1xuXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAge1xuICAgIHN1Ym1pdEZvcm06IGluZm9Gb3JtRXZlbnRIYW5kbGVyLFxuICB9LFxuICBwb3B1cEVkaXRTZWxlY3RvclxuKTtcblxuY29uc3QgcG9wdXBBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAge1xuICAgIHN1Ym1pdEZvcm06IGFkZE5ld0NhcmQsXG4gIH0sXG4gIHBvcHVwQWRkU2VsZWN0b3Jcbik7XG5cbnByb2ZpbGVBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBBZGRGb3JtVmFsaWRhdGlvbi5jbGVhckZvcm1JbnB1dEVycm9yKCk7XG4gIHBvcHVwQWRkLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB7XG4gICAgc3VibWl0Rm9ybTogdXBkYXRlQXZhdGFyLFxuICB9LFxuICB1cGRhdGVBdmF0YXJQb3B1cFNlbGVjdG9yXG4pO1xuXG5wcm9maWxlQXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cENvbmZpcm1Gb3JtVmFsaWRhdGlvbi5jbGVhckZvcm1JbnB1dEVycm9yKCk7XG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcbn0pO1xuXG5wb3B1cENvbmZpcm1hdGlvbi5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBBZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmNhcmRGcm9tUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiJdLCJuYW1lcyI6WyJDYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsIm5hbWUiLCJsaW5rIiwibGlrZXMiLCJfaWQiLCJvd25lciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwibGlrZUNhcmRCdG5DbGljayIsImNsaWNrRGlzbGlrZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkIiwicmVtb3ZlIiwiX2lzTGlrZWQiLCJfY2xpY2tEaXNsaWtlIiwiX2xpa2VDYXJkQnRuQ2xpY2siLCJfcGhvdG9zTGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX2xpa2VzIiwiaWQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiY2FyZCIsIl9waG90b3NMaWtlQ291bnRlciIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiX3RvZ2dsZUxpa2UiLCJ1c2VySWQiLCJmaW5kIiwiX2dldFRlbXBsYXRlRWxlbWVudCIsIl9waG90b3NJbWFnZSIsIl9waG90b3N0VGl0bGUiLCJfcGhvdG9zRGVsZXRlQnV0dG9uIiwiX2lzSG9zdCIsInNyYyIsImFsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9yZXR1cm5MaWtlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGVTZWxlY3RvciIsImZvcm0iLCJfZm9ybSIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX2lucHV0RXJyb3JTZWxlY3RvciIsImlucHV0RXJyb3JTZWxlY3RvciIsIl9pbmFjdGl2ZVNhdmVCdXR0b25DbGFzcyIsImluYWN0aXZlU2F2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtSW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0IiwiZXJyb3IiLCJkYXRhc2V0IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhZGQiLCJfdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUiLCJfc3VibWl0QnV0dG9uIiwiZXZlbnQiLCJfaGFzRm9ybUlucHV0IiwidGFyZ2V0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImRpc2FibGVkIiwiY2hlY2tWYWxpZGl0eSIsImZvckVhY2giLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9jb250YWluZXIiLCJfcmVuZGVyZXIiLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsIml0ZW1zIiwiaXRlbSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX3BvcHVwQ2xvc2VJY29ucyIsIl9jbG9zZU9uQ2xpY2tFc2MiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29udGFpbnMiLCJfY2xvc2VPbkNsaWNrT3ZlcmxheSIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwUGhvdG9zQ2FwdGlvbiIsIl9wb3B1cFBob3Rvc0JpZ1NpemVJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGb3JtIiwiX3N1Ym1pdEZvcm0iLCJfcG9wdXBTdWJtaXRCdXR0b24iLCJfaGFuZGxlU3VibWl0Rm9ybUxpc3RlbmVyIiwiX2hhbmRsZVN1Ym1pdEZvcm0iLCJiaW5kIiwicmVzZXQiLCJfZm9ybVZhbHVlIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsImUiLCJ0ZXh0IiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZUNvbnRhaW5lciIsIl91c2VyQWJvdXRDb250YWluZXIiLCJfYXZhdGFyIiwiYWJvdXQiLCJhdmF0YXIiLCJkYXRhIiwiQXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl90b2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9jaGVja0Fuc3dlciIsIm5ld1VzZXJOYW1lIiwibmV3VXNlckFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkTmFtZSIsImNhcmRMaW5rIiwiYXZhdGFyU3JjIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwicmVjZWl2ZWRGdW5jdGlvbiIsIl9yZWNlaXZlZEZ1bmN0aW9uIiwiZm9ybVNlbGVjdG9yIiwicG9wdXBFZGl0Rm9ybSIsInByb2ZpbGVFZGl0QnV0dG9uIiwiZm9ybUlucHV0VHlwZVRleHQiLCJmb3JtSW5wdXRUeXBlQWJvdXQiLCJwb3B1cEFkZEZvcm0iLCJwcm9maWxlQWRkQnV0dG9uIiwiY2FyZFRlbXBsYXRlU2VsZWN0b3IiLCJwcm9maWxlQXZhdGFyRWRpdEJ1dHRvbiIsInBvcHVwQ29uZmlybUZvcm0iLCJhcGkiLCJhbGwiLCJnZXREYXRhVXNlciIsImdldEluaXRpYWxDYXJkc0RhdGEiLCJ1c2VyUmVxdWVzdEluZm8iLCJ1c2VyUmVxdWVzdENhcmRzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhcmRzTGlzdCIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJwb3B1cEVkaXRGb3JtVmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cEFkZEZvcm1WYWxpZGF0aW9uIiwicG9wdXBDb25maXJtRm9ybVZhbGlkYXRpb24iLCJwb3B1cENvbmZpcm1hdGlvbiIsImRlbGV0ZUNhcmQiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibWFrZUNhcmQiLCJjbGlja0Rpc2xpa2VDYXJkIiwiY2FyZEZyb21Qb3B1cCIsImNhcmRQaG90b3NMaXN0Iiwib3BlbiIsImxpa2VDYXJkIiwibmV3Q2FyZCIsInNldENhcmRMaWtlcyIsImRpc2xpa2VDYXJkIiwiY2FyZEVsZW1lbnQiLCJhZGRJdGVtIiwiZ2V0VXNlckluZm8iLCJjbGVhckZvcm1JbnB1dEVycm9yIiwicG9wdXBFZGl0IiwiZm9ybUlucHV0cyIsInNlbmRUZXh0U3VibWl0T25CdXR0b24iLCJzZXREYXRhVXNlciIsImZvcm1fX2lucHV0X3R5cGVfdGV4dCIsImZvcm1fX2lucHV0X3R5cGVfYWJvdXQiLCJmaW5hbGx5IiwicG9wdXBBZGQiLCJhZGRDYXJkIiwiYWRkQ2FyZFRvVGhlQmVnaW5uaW5nIiwicG9wdXBBdmF0YXIiLCJmb3JtSW5wdXQiLCJ1cGRhdGVVc2VyQXZhdGFyIiwic2V0RXZlbnRMaXN0ZW5lcnMiXSwic291cmNlUm9vdCI6IiJ9